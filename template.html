<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Journal</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="markdown.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="main">
        <p>
                <img src="cb2.gif"/>
        </p>
        <div class="markdown-body">
            «CONTENT»
        </div>
    </div>
</body>
</html>

<script>
document.addEventListener("DOMContentLoaded", function() {
  var collapsableElements = document.getElementsByTagName('H6');

  for(var i = 0; i < collapsableElements.length; i++) {
    let el = collapsableElements[i];

    let className = "collapse-" + i;
    el.classList.add(className);

    el.innerHTML = `\<i class=\"${className} arrow right\"><\/i>` + el.innerHTML;

    el.addEventListener('click', function(){
      toggleSection(this);
    }, false);
    toggleSection(el);
  }
});

function toggleArrow(el, currentElement) {
  var arrow = document.getElementsByClassName(`${el.classList} arrow`)[0]

  if (!currentElement.classList.contains("hide")) {
    arrow.classList.remove("down");
    arrow.classList.add("right")
  } else {
    arrow.classList.remove("right")
    arrow.classList.add("down");
  }
}

function toggleSection(startElement) {
  var currentElement = startElement.nextElementSibling;

  toggleArrow(startElement, currentElement);

  while(true) {
    if (!currentElement.classList.contains("hide")) {
      currentElement.classList.add("hide");
    } else {
      currentElement.classList.remove("hide");
    }

    // Switch the current element to the next sibling
    currentElement = currentElement.nextElementSibling;

    // Stop the loop if the element is null (no sibling elements)
    if (currentElement == null) {
      return;
    }

    //Stop the loop if you hit another <H#> tag
    if (currentElement.tagName.includes("H")) {
      return;
    }
  }
}
</script>
